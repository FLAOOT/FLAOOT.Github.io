<!DOCTYPE html>
<html>
<head>
    <title>TelegramCraft</title>
    <style>
        body { 
            margin: 0; 
            overflow: hidden; 
            font-family: 'Roboto', sans-serif;
            background: #f3f4f5;
        }
        
        /* –°—Ç–∏–ª—å –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é */
        #menu {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            width: 320px;
            border-radius: 14px;
            box-shadow: 0 12px 24px rgba(0,0,0,0.1);
            padding: 24px;
            text-align: center;
        }
        
        .menu-title {
            color: #0088cc;
            font-size: 24px;
            margin-bottom: 24px;
            font-weight: 500;
        }
        
        .tg-button {
            display: block;
            width: 100%;
            padding: 14px;
            margin: 8px 0;
            background: #0088cc;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .tg-button:hover {
            background: #0077b3;
            transform: translateY(-1px);
        }
        
        /* –°—Ç–∏–ª—å –∏–≥—Ä–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ */
        #hud {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 16px;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(4px);
            display: flex;
            gap: 12px;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .hud-button {
            background: #0088cc;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        #crosshair {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: rgba(0,0,0,0.4);
            font-size: 24px;
            pointer-events: none;
        }
        
        /* –°—Ç–∏–ª—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è */
        #inventory {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255,255,255,0.95);
            padding: 12px;
            border-radius: 14px;
            display: none;
            gap: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            backdrop-filter: blur(4px);
        }
        
        .slot {
            width: 48px;
            height: 48px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            background: white;
            position: relative;
            transition: all 0.2s;
        }
        
        .slot.active {
            border-color: #0088cc;
            box-shadow: 0 0 0 2px #0088cc33;
        }
        
        .slot-count {
            position: absolute;
            bottom: 4px;
            right: 4px;
            background: #0088cc;
            color: white;
            width: 18px;
            height: 18px;
            border-radius: 9px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <div id="menu">
        <div class="menu-title">TelegramCraft</div>
        <button class="tg-button" onclick="startGame('creative')">üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É (–ö—Ä–µ–∞—Ç–∏–≤)</button>
        <button class="tg-button" style="background: #20c997" onclick="startGame('survival')">üåø –†–µ–∂–∏–º –≤—ã–∂–∏–≤–∞–Ω–∏—è</button>
        <button class="tg-button" style="background: #adb5bd" onclick="loadWorld()">üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–∏—Ä</button>
    </div>

    <div id="hud" style="display: none">
        <button class="hud-button" onclick="toggleInventory()">üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</button>
        <div id="health">‚ù§Ô∏è 100%</div>
    </div>

    <div id="crosshair">+</div>
    <div id="inventory"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∏–ª—è Telegram
        const tgPalette = {
            primary: '#0088cc',
            background: '#f3f4f5',
            surface: '#ffffff',
            text: '#212121',
            secondaryText: '#5e5e5e'
        };

        // –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ –≤ —Å—Ç–∏–ª–µ Telegram
        const blockMaterials = {
            grass: new THREE.MeshPhongMaterial({ color: 0x8BC34A }),
            dirt: new THREE.MeshPhongMaterial({ color: 0x795548 }),
            stone: new THREE.MeshPhongMaterial({ color: 0x9E9E9E }),
            'telegram-blue': new THREE.MeshPhongMaterial({ color: 0x0088cc }),
            'telegram-surface': new THREE.MeshPhongMaterial({ color: 0xffffff }),
            glass: new THREE.MeshStandardMaterial({
                color: 0x80DEEA,
                transparent: true,
                opacity: 0.8
            })
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –≤ —Å—Ç–∏–ª–µ Telegram
        function initInventory() {
            const inventory = document.getElementById('inventory');
            const blocks = [
                {type: 'grass', count: 99},
                {type: 'dirt', count: 99},
                {type: 'stone', count: 99},
                {type: 'telegram-blue', count: 99},
                {type: 'telegram-surface', count: 99},
                {type: 'glass', count: 99}
            ];

            blocks.forEach((block, index) => {
                const slot = document.createElement('div');
                slot.className = 'slot';
                slot.style.backgroundColor = blockMaterials[block.type].color.getStyle();
                slot.dataset.type = block.type;
                
                const count = document.createElement('div');
                count.className = 'slot-count';
                count.textContent = block.count;
                
                slot.appendChild(count);
                slot.onclick = () => selectSlot(slot, block.type);
                inventory.appendChild(slot);
            });
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å—Ç–∞—Ä—Ç–∞ –∏–≥—Ä—ã
        function startGame(mode) {
            document.getElementById('menu').style.display = 'none';
            document.getElementById('hud').style.display = 'flex';
            initGame(mode);
        }

        // –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–≥—Ä—ã
        function initGame(mode) {
            // ... (–æ—Å—Ç–∞–ª—å–Ω–∞—è –∏–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏)
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–º–µ—Ä—ã –ø–æ–¥ —Å—Ç–∏–ª—å Telegram
            camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
            camera.rotation.order = 'YXZ';
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Å–≤–µ—â–µ–Ω–∏—è
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.6);
            directionalLight.position.set(100, 100, 100);
            scene.add(directionalLight);
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏—Ä–∞ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ Telegram
            createWorldWithTGTheme();
            initInventory();
        }

        function createWorldWithTGTheme() {
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –≤ —Å—Ç–∏–ª–µ Telegram
            for(let x = -50; x <= 50; x++) {
                for(let z = -50; z <= 50; z++) {
                    addBlock(x, 0, z, Math.random() > 0.9 ? 'telegram-blue' : 'telegram-surface');
                }
            }
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è "–æ–±–ª–∞–∫–æ–≤" Telegram
            for(let i = 0; i < 20; i++) {
                const x = Math.floor(Math.random() * 100 - 50);
                const z = Math.floor(Math.random() * 100 - 50);
                addBlock(x, 5, z, 'glass');
            }
        }

        // ... (–æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–≥—Ä—ã –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ —Å –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π —Å—Ç–∏–ª–µ–π)
    </script>
</body>
</html>
